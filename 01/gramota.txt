Обособление обстоятельств
Обстоятельство – второстепенный член предложения, который обозначает признак действия или другого признака. Обстоятельства поясняют сказуемые или другие члены предложения. При синтаксическом разборе предложения обстоятельства подчеркиваются пунктирной линией (тире, точка, тире). Обстоятельства необходимо выделять запятыми в трех случаях. Рассмотрим каждый из них по очереди.

Первый случай

Обстоятельства в предложениях могут быть выражены четырьмя частями речи: 

наречием, например: Дворник встает рано;
деепричастием или деепричастным оборотом, например: Мужики, увидев помещика, сняли шапки;
инфинитивом, например: Все отправились на улицу (зачем?) расчищать снег; 
существительным, например: Я приехал в столицу (зачем?) на экскурсию.
Кроме этого, обстоятельство может быть выражено цельным по смыслу выражением, например: Дождь шел две недели подряд.

Необходимо запомнить, что выделять запятыми нужно обстоятельства, которые выражены деепричастием или деепричастным оборотом. Сравните: Он сидел, листая журнал, и скучал и Он сидел на скамейке. В первом предложении обстоятельство листая журнал выделяется, так как оно выражено деепричастным оборотом, а во втором обстоятельство на скамейке не обособляется, так как оно выражено существительным с предлогом.

Второй и третий случаи

По значению обстоятельства делятся на следующие основные группы: 

обстоятельства места, отвечающие на вопросы ГДЕ? КУДА? ОТКУДА? Например: Мы въехали (куда?) в город; 
обстоятельства времени, отвечающие на вопросы КОГДА? С КАКИХ ПОР? ДО КАКИХ ПОР? КАК ДОЛГО? Например: Мы прождали их около двух часов;
обстоятельства причины, которые отвечают на вопросы ПОЧЕМУ? ОТЧЕГО? ПО КАКОЙ ПРИЧИНЕ? Например: От усталости я не мог говорить; 
обстоятельства цели, которые отвечают на вопросы ЗАЧЕМ? ДЛЯ ЧЕГО? С КАКОЙ ЦЕЛЬЮ? Например: В санатории все приготовлено для лечения отдыхающих;
обстоятельства образа действия и степени, отвечающие на вопросы КАК? КАКИМ ОБРАЗОМ? В КАКОЙ СТЕПЕНИ? Например: Я несколько призадумался или Отец ни на шаг не отпускал меня;
обстоятельства условия, которые отвечают на вопрос ПРИ КАКОМ УСЛОВИИ? Например: При старании можно добиться успеха; 
обстоятельства уступки, которые отвечают на вопрос НЕСМОТРЯ НА ЧТО? Например: На улице, несмотря на мороз, было многолюдно; 
обстоятельства сравнения, отвечающие на вопрос КАК? Например: Голова у нее острижена, как у мальчишки.
В классификации обстоятельств по значению одним из восьми видов являются обстоятельства сравнения: они отвечают на вопрос КАК? и начинается с союзов КАК, СЛОВНО или БУДТО. Например: У нее были длинные волосы, мягкие, как лен. В некоторых учебниках и справочных пособиях обстоятельства сравнения называют также сравнительными оборотами. Необходимо запомнить, что обстоятельства сравнения в предложениях выделяются запятыми.

Еще один вид обстоятельств, который необходимо выделять запятыми, это обстоятельства уступки. Такие обстоятельства отвечают на вопрос НЕСМОТРЯ НА ЧТО? и начинаются с предлога НЕСМОТРЯ НА (или, реже, ВОПРЕКИ). Например: На улицах, несмотря на яркое солнце, горели фонари.

Итак, следует запомнить три случая, когда обстоятельства необходимо выделять запятыми: 

если они выражены деепричастным оборотом, 
если они представляют собой сравнительный оборот, 
если они начинаются с предлога НЕСМОТРЯ НА.
Еще раз рассмотрите примеры. Сверкая быстро в вышине, кружились искры. (Лермонтов) Она вдруг скрылась, как птичка, вспугнутая из кустарника (Лермонтов). Несмотря на непредвиденные трудности, работа закончена в срок.

Это правило имеет несколько важных примечаний: 

От деепричастий следует отличать наречия СТОЯ, СИДЯ, ЛЕЖА, МОЛЧА. НЕХОТЯ, ШУТЯ, НЕ ГЛЯДЯ, ИГРАЯ. Они образовались благодаря переходу слов из разряда деепричастий в наречия. Обстоятельства, выраженные такими словами, не обособляются. Например: Он стоял молча. 

Не выделяются также обстоятельства, выраженные фразеологическими оборотами, например: Они работали засучив рукава или Верчусь целый день как белка в колесе. 

Кроме обстоятельств уступки, которые выделяются всегда, могут факультативно обособляться обстоятельства, выраженные существительными с производными предлогами БЛАГОДАРЯ, СОГЛАСНО, ВОПРЕКИ, ВВИДУ, ВСЛЕДСТВИЕ, например: Благодаря хорошей погоде, мы купались в реке все лето. Обычно такие обстоятельства обособляются, если они распространены и стоят перед сказуемым.